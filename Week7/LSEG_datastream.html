
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LSEG Datastream &#8212; Full Stack Quantitative Finance</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f23691d7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=8dbc1659"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Week7/LSEG_datastream';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Databento" href="databento.html" />
    <link rel="prev" title="The Bloomberg Terminal" href="bloomberg_terminal.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>   
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Full Stack Quantitative Finance - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Full Stack Quantitative Finance - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Full Stack Quantitative Finance
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Course Syllabus: FINM 32900, Winter 2026</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgments.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Appendix</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Lectures üìñ</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w1.html">Week 1: GitHub, GitHub Classroom, and Virtual Environments</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week1/what_is_this_course_about.html">What is Full Stack Quantitative Finance? Why This Course?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week1/reproducible_analytical_pipelines.html">What are Reproducible Analytical Pipelines?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week1/case_study_reproducibility_in_finance.html">Case Study: Is There A Reproducibility Crisis In Finance?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week1/virtual_environments.html">Virtual Environments</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w2.html">Week 2: Env Files and Secrets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week2/WRDS_intro_and_web_queries.html">Introduction to WRDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_01_wrds_python_package_ipynb.html">Example: Connecting to the WRDS Platform With Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_05_basics_of_SQL_ipynb.html">Basics of SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week2/env_files.html">Env Files, Secrets, and the Separations of Settings from Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week2/github_pages_preview.html">GitHub Pages and Tearsheets</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w3.html">Week 3: Task Runners, Automating Queries, and the Basics of SQL</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week3/what_is_a_task_runner.html">What is a build system or task runner?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week3/doit_examples.html">PyDoit Examples Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week3/project_structure.html">Project Structure: ‚ÄúChartbook‚Äù Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week3/ftsfr.html">Financial Time Series Forecasting Repository (FTSFR)</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w4.html">Week 4: Generating Reports, featuring Jupyter Notebooks and LaTeX</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week4/reports_with_jupyter_notebooks.html">Reports with Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week4/intro_to_LaTeX.html">Introduction to LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week4/latex_essentials.html">LaTeX Essentials</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../overview_w5.html">Week 5: Bloomberg, LSEG Datastream, and Databento</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bloomberg_terminal.html">The Bloomberg Terminal</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">LSEG Datastream</a></li>
<li class="toctree-l2"><a class="reference internal" href="databento.html">Databento</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w6.html">Week 6: Python Package Development and Social Coding with GitHub</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week6/GitHub_pull_requests.html">GitHub Issues and Pull Requests: Enhancing Collaborative Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week6/python_packaging_with_hatch.html">Writing and Publishing Your Own Python Packages</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../subject_to_change_after_this_week.html">WARNING: Notes subject to change after this week</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w7.html">Week 7: Unit Tests and Documentation with Sphinx</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week5/sphinx.html">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week5/unit_tests.html">Unit Tests</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w8.html">Week 8: Web Authentication and Authorization</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_01_corporate_hedging_ipynb.html">Case Study: Hedging Oil Price Exposure As An E&amp;P</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_02_spx_hedging_ipynb.html">Case Study: Hedging A Long-Only SPX Portfolio With Costless Collars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week8/web_authentication.html">Web Authentication and Authorization</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview_w9.html">Week 9: GitHub Actions and Publishing a Live Dashboard</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week9/github_actions_interactive_dashboard.html">Creating a Live Dashboard Example with GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week4/intro_to_LaTeX.html">Introduction to LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week4/latex_essentials.html">LaTeX Essentials</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Homework üìù</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../HW0.html">Homework 0</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../HW1.html">Homework 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_02_CRSP_market_index_ipynb.html">HW Guide Part A: CRSP Market Returns Indices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_03_SP500_constituents_and_index_ipynb.html">HW Guide Part B: Reconstructing the S&amp;P 500 Index</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../HW2.html">Homework 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_04_Fama_French_1993_ipynb.html">HW Guide Part A: Replicate Fama-French 1993</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../HW3.html">Homework 3</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../HW4.html">Homework 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_01_CRSP_treasury_overview_ipynb.html">CRSP Treasury Data Oveview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/_02_replicate_GSW2005_ipynb.html">Replicating the G√ºrkaynak, Sack, and Wright (2006) Treasury Yield Curve</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../final_project.html">Final Project</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../FinalProject/final_project_rubric.html">Final Project Instructions and Rubric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FinalProject/potential_final_projects.html">List of Potential Final Projects</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jmbejara/blank_project" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jmbejara/blank_project/issues/new?title=Issue%20on%20page%20%2FWeek7/LSEG_datastream.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Week7/LSEG_datastream.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>LSEG Datastream</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started-with-documentation">Getting Started with Documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-variables-in-datastream-and-in-wrds-generally">Finding Variables (in Datastream and in WRDS generally)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-wrds-variable-search">Using the WRDS Variable Search</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-datastream-code-lookup-tool">Using the Datastream Code Lookup Tool</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#search-tips">Search Tips</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-futures-example-1">Treasury Futures Example 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-futures-example-2">Treasury Futures Example 2</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#access-futures-data-via-wrds-web-query">1. Access Futures Data via WRDS Web Query</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mnemonic-structure-for-treasury-futures">2. Mnemonic Structure for Treasury Futures</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-treasury-futures-symbols">3. Key Treasury Futures Symbols</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#search-and-browse-tips">4. Search and Browse Tips</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-retrieval-example">5. Data Retrieval Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-the-futures-library-via-python">Exploring the Futures Library via Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-model-library-structure-and-key-relationships">Data Model: Library Structure and Key Relationships</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#highlights-from-the-example-scripts">Highlights from the Example Scripts</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#searching-for-products">Searching for Products</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#two-step-price-retrieval">Two-Step Price Retrieval</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#term-structure-snapshot">Term Structure Snapshot</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-limitations">Key Limitations</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                   <section class="tex2jax_ignore mathjax_ignore" id="lseg-datastream">
<h1>LSEG Datastream<a class="headerlink" href="#lseg-datastream" title="Link to this heading">#</a></h1>
<p>LSEG Datastream is a platform that provides access to a wide range of financial
data, including futures data. Datastream is available via WRDS. WRDS does not
provide real-time data access to Datastream, but it is still a valuable source
of data for research. The Datastream data in WRDS is updated monthly. The data
is the same as the data in LSEG Workspace (e.g., via Eikon).</p>
<section id="getting-started-with-documentation">
<h2>Getting Started with Documentation<a class="headerlink" href="#getting-started-with-documentation" title="Link to this heading">#</a></h2>
<p>Before searching for specific data, it‚Äôs recommended to familiarize yourself with
Datastream‚Äôs documentation:</p>
<ol class="arabic simple">
<li><p>Visit the <a class="reference external" href="https://wrds-www.wharton.upenn.edu/pages/support/manuals-and-overviews/thomson-reuters/datastream/">WRDS Datastream Documentation Page</a></p></li>
<li><p>Log in with your WRDS credentials</p></li>
<li><p>Review the available manuals and overviews to understand:</p>
<ul class="simple">
<li><p>Data coverage and limitations</p></li>
<li><p>Search functionality</p></li>
<li><p>Available data types and formats</p></li>
<li><p>Mnemonic conventions</p></li>
</ul>
</li>
</ol>
<p>This documentation will help you navigate the platform more effectively and
understand the data structure before proceeding with specific queries.</p>
</section>
<section id="finding-variables-in-datastream-and-in-wrds-generally">
<h2>Finding Variables (in Datastream and in WRDS generally)<a class="headerlink" href="#finding-variables-in-datastream-and-in-wrds-generally" title="Link to this heading">#</a></h2>
<p>WRDS provides a powerful variable search tool that allows you to search across all WRDS datasets, including Datastream. This can be particularly helpful when:</p>
<ul class="simple">
<li><p>You‚Äôre unsure which dataset contains your variable of interest</p></li>
<li><p>You want to compare similar variables across different datasets</p></li>
<li><p>You need to find specific mnemonics or variable names</p></li>
</ul>
<section id="using-the-wrds-variable-search">
<h3>Using the WRDS Variable Search<a class="headerlink" href="#using-the-wrds-variable-search" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Navigate to the <a class="reference external" href="https://wrds-www.wharton.upenn.edu/search/?queryTerms=&amp;amp;activeTab=navVariablesSearchTab">WRDS Variable Search Page</a></p></li>
<li><p>Log in with your WRDS credentials</p></li>
<li><p>Use the search functionality in several ways:</p>
<ul class="simple">
<li><p>Search by keyword (e.g., ‚Äútreasury futures‚Äù)</p></li>
<li><p>Filter by database (e.g., ‚ÄúDatastream‚Äù)</p></li>
<li><p>Browse by category</p></li>
<li><p>Use advanced search options for more specific queries</p></li>
</ul>
</li>
</ol>
</section>
<section id="using-the-datastream-code-lookup-tool">
<h3>Using the Datastream Code Lookup Tool<a class="headerlink" href="#using-the-datastream-code-lookup-tool" title="Link to this heading">#</a></h3>
<p><img alt="Datastream Code Lookup Tool" src="../_images/datastream_code_lookup.png" /></p>
<ol class="arabic simple">
<li><p>Navigate to the <a class="reference external" href="https://wrds-www.wharton.upenn.edu/pages/get-data/lseg/datastream/futures-data/future-contracts/">Datastream Future Contracts Query Form</a></p></li>
<li><p>Click on ‚ÄúCode Lookup: Datastream Futures‚Äù</p></li>
<li><p>Use the search functionality to find the code for the variable you are interested in</p></li>
</ol>
</section>
<section id="search-tips">
<h3>Search Tips<a class="headerlink" href="#search-tips" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Use quotation marks for exact phrase matches</p></li>
<li><p>Try different variations of terms (e.g., ‚ÄúTreasury‚Äù, ‚ÄúT-Note‚Äù, ‚ÄúGovernment Bond‚Äù)</p></li>
<li><p>Check variable definitions carefully as similar variables may exist across different datasets</p></li>
<li><p>Note the update frequency and coverage period for each variable</p></li>
</ul>
<p>The variable search tool is particularly valuable when working with Datastream, as it can help you identify the correct mnemonics and understand what data is available before constructing your queries.</p>
</section>
</section>
<section id="treasury-futures-example-1">
<h2>Treasury Futures Example 1<a class="headerlink" href="#treasury-futures-example-1" title="Link to this heading">#</a></h2>
<p>Search <a class="reference external" href="https://wrds-www.wharton.upenn.edu/dynamic-query-form/tr_ds_fut/wrds_cseries_info/">https://wrds-www.wharton.upenn.edu/dynamic-query-form/tr_ds_fut/wrds_cseries_info/</a></p>
</section>
<section id="treasury-futures-example-2">
<h2>Treasury Futures Example 2<a class="headerlink" href="#treasury-futures-example-2" title="Link to this heading">#</a></h2>
<p>Let‚Äôs consider first an example of how to search for Treasury Futures data in
Datastream via WRDS.</p>
<p>To effectively search for Treasury Futures data in Datastream via WRDS, follow
these steps based on the available tools and mnemonic conventions:</p>
<section id="access-futures-data-via-wrds-web-query">
<h3>1. Access Futures Data via WRDS Web Query<a class="headerlink" href="#access-futures-data-via-wrds-web-query" title="Link to this heading">#</a></h3>
<p>WRDS provides a structured interface for retrieving futures data:</p>
<ul class="simple">
<li><p>Navigate to the <strong>Thomson/Refinitiv</strong> section in WRDS and select
<strong>Datastream</strong>.</p></li>
</ul>
</section>
<section id="mnemonic-structure-for-treasury-futures">
<h3>2. Mnemonic Structure for Treasury Futures<a class="headerlink" href="#mnemonic-structure-for-treasury-futures" title="Link to this heading">#</a></h3>
<p>Datastream uses standardized codes for futures contracts:</p>
<ul class="simple">
<li><p><strong>Continuous series (front contract):</strong><br />
Format: <code class="docutils literal notranslate"><span class="pre">[Symbol]CS00</span></code><br />
Example: <code class="docutils literal notranslate"><span class="pre">TYCS00</span></code> for 10-Year Treasury Note futures (where <code class="docutils literal notranslate"><span class="pre">TY</span></code> represents the
underlying asset).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CS</span></code> indicates ‚Äúcontinuous series‚Äù (auto-rolls to the next contract at
expiration).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">00</span></code> specifies the rollover timing (1st day of the new month).</p></li>
</ul>
</li>
<li><p><strong>Individual contracts (live or expired):</strong><br />
Format: <code class="docutils literal notranslate"><span class="pre">LFUT[Symbol][L/D]</span></code><br />
Example: <code class="docutils literal notranslate"><span class="pre">LFUTTYL</span></code> for live 10-Year Treasury contracts or <code class="docutils literal notranslate"><span class="pre">LFUTTYD</span></code> for dead
(expired) ones.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">LFUT</span></code> = List Futures</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code> = Live, <code class="docutils literal notranslate"><span class="pre">D</span></code> = Dead</p></li>
</ul>
</li>
</ul>
</section>
<section id="key-treasury-futures-symbols">
<h3>3. Key Treasury Futures Symbols<a class="headerlink" href="#key-treasury-futures-symbols" title="Link to this heading">#</a></h3>
<p>Common mnemonics for U.S. Treasury futures include:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Contract</strong></p></th>
<th class="head"><p><strong>Base Symbol</strong></p></th>
<th class="head"><p><strong>Example Continuous Series</strong></p></th>
<th class="head"><p><strong>Example Individual Contracts</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2-Year Treasury Note</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TU</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TUCS00</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LFUTTUL</span></code>, <code class="docutils literal notranslate"><span class="pre">LFUTTUD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>5-Year Treasury Note</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FV</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FVCS00</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LFUTFVL</span></code>, <code class="docutils literal notranslate"><span class="pre">LFUTFVD</span></code></p></td>
</tr>
<tr class="row-even"><td><p>10-Year Treasury Note</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TYCS00</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LFUTTYL</span></code>, <code class="docutils literal notranslate"><span class="pre">LFUTTYD</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>30-Year Treasury Bond</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">US</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">USCS00</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LFUTUSL</span></code>, <code class="docutils literal notranslate"><span class="pre">LFUTUSD</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="search-and-browse-tips">
<h3>4. Search and Browse Tips<a class="headerlink" href="#search-and-browse-tips" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Use WRDS Economic Indicators Filter:</strong> Narrow results by selecting ‚ÄúFutures‚Äù
under asset classes and filtering by keywords like ‚ÄúTreasury‚Äù or
‚ÄúBond‚Äù.</p></li>
<li><p><strong>Consult Datastream Documentation:</strong> Access mnemonic lists and data
dictionaries via WRDS‚Äôs <em>Thomson/Refinitiv</em> resources.</p></li>
<li><p><strong>Verify Coverage:</strong> WRDS includes futures data but excludes fixed-income
modules like bonds. For granular bond futures, consider cross-referencing with
CRSP‚Äôs Treasury data.</p></li>
</ul>
</section>
<section id="data-retrieval-example">
<h3>5. Data Retrieval Example<a class="headerlink" href="#data-retrieval-example" title="Link to this heading">#</a></h3>
<p>To download 10-Year Treasury Note futures:</p>
<ol class="arabic simple">
<li><p><strong>Continuous series:</strong> Use <code class="docutils literal notranslate"><span class="pre">TYCS00</span></code> for auto-rolling front-month data.</p></li>
<li><p><strong>Individual contracts:</strong> Use <code class="docutils literal notranslate"><span class="pre">LFUTTYL</span></code> to retrieve all live contracts or
<code class="docutils literal notranslate"><span class="pre">LFUTTYD</span></code> for expired ones.</p></li>
<li><p><strong>Export Options:</strong> Output data in <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>, or SAS formats via WRDS
web queries.</p></li>
</ol>
</section>
</section>
<section id="exploring-the-futures-library-via-python">
<h2>Exploring the Futures Library via Python<a class="headerlink" href="#exploring-the-futures-library-via-python" title="Link to this heading">#</a></h2>
<p>The WRDS web interface is useful for quick lookups, but programmatic access via
Python is essential for reproducible research workflows. Connecting to WRDS from
Python lets you run SQL queries against the Datastream library, iterate over
products, and build datasets that feed directly into your analysis pipeline.</p>
<p><strong>Example repository:</strong>
<a class="reference external" href="https://github.com/finm-32900/inclass_examples/tree/main/wrds_datastream"><code class="docutils literal notranslate"><span class="pre">wrds_datastream/</span></code></a>
‚Äî a set of 7 progressive scripts that teach you how to browse, search, and
retrieve futures data from the <code class="docutils literal notranslate"><span class="pre">tr_ds_fut</span></code> library.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Script</p></th>
<th class="head"><p>What You Learn</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">01_explore_library.py</span></code></p></td>
<td><p>Survey tables, schemas, row counts, and sample rows</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">02_browse_products.py</span></code></p></td>
<td><p>List all available futures products with contract counts and date ranges</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">03_search_products.py</span></code></p></td>
<td><p>Search by keyword (commodities, treasuries, equity indices)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">04_contract_metadata.py</span></code></p></td>
<td><p>Inspect individual contracts: <code class="docutils literal notranslate"><span class="pre">contrcode</span></code> ‚Üí <code class="docutils literal notranslate"><span class="pre">futcode</span></code> relationship</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">05_pull_prices.py</span></code></p></td>
<td><p>Fetch settlement prices (complete retrieval workflow)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">06_term_structure.py</span></code></p></td>
<td><p>Compare term structures: commodity vs. Treasury futures</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">07_pull_commodities_and_treasuries.py</span></code></p></td>
<td><p>Reference: pull 21 commodities + 4 Treasury futures</p></td>
</tr>
</tbody>
</table>
</div>
<p>The Datastream mnemonics described above (e.g., <code class="docutils literal notranslate"><span class="pre">TYCS00</span></code> for the 10-Year
Treasury continuous series) are useful for identifying products in the WRDS web
interface, but when you query the underlying SQL tables you work with relational
keys instead ‚Äî primarily <code class="docutils literal notranslate"><span class="pre">contrcode</span></code> (product type) and <code class="docutils literal notranslate"><span class="pre">futcode</span></code> (individual
contract).</p>
</section>
<section id="data-model-library-structure-and-key-relationships">
<h2>Data Model: Library Structure and Key Relationships<a class="headerlink" href="#data-model-library-structure-and-key-relationships" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">tr_ds_fut</span></code> library contains four key tables:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Table</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Scale</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wrds_cseries_info</span></code></p></td>
<td><p>Continuous series metadata (auto-rolling front contracts)</p></td>
<td><p>Small catalog (~hundreds of rows)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wrds_contract_info</span></code></p></td>
<td><p>Individual contract metadata: <code class="docutils literal notranslate"><span class="pre">contrcode</span></code>, <code class="docutils literal notranslate"><span class="pre">futcode</span></code>, delivery dates</p></td>
<td><p>~100k rows</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">wrds_fut_contract</span></code></p></td>
<td><p>Daily prices by <code class="docutils literal notranslate"><span class="pre">futcode</span></code>: settlement, open, high, low, volume</p></td>
<td><p>~30M+ rows</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dsfutcalcserval</span></code></p></td>
<td><p>Calculated series values (continuous contracts)</p></td>
<td><p>~10M+ rows</p></td>
</tr>
</tbody>
</table>
</div>
<p>The tables are linked through a hierarchical relationship:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>contrcode (product type, e.g. Gold = 2020, 10Y Treasury = 458)
    ‚îî‚îÄ‚îÄ wrds_contract_info (one row per contract, has futcode + delivery date)
            ‚îî‚îÄ‚îÄ wrds_fut_contract (daily prices per futcode)
</pre></div>
</div>
<p><strong>Two-step retrieval pattern.</strong> Because metadata and prices live in separate
tables, retrieving prices is always a two-step process:</p>
<ol class="arabic simple">
<li><p><strong>Find contracts:</strong> Query <code class="docutils literal notranslate"><span class="pre">wrds_contract_info</span></code> to get the <code class="docutils literal notranslate"><span class="pre">futcode</span></code> values
for the product and date range you need.</p></li>
<li><p><strong>Fetch prices:</strong> Use those <code class="docutils literal notranslate"><span class="pre">futcode</span></code> values to pull daily data from
<code class="docutils literal notranslate"><span class="pre">wrds_fut_contract</span></code>.</p></li>
</ol>
<p>This separation keeps the price table lean (no repeated metadata) and lets you
filter contracts by delivery date, last trade date, or other attributes before
pulling potentially millions of price rows.</p>
</section>
<section id="highlights-from-the-example-scripts">
<h2>Highlights from the Example Scripts<a class="headerlink" href="#highlights-from-the-example-scripts" title="Link to this heading">#</a></h2>
<p>The sections below show key code patterns from the example repository. Each
snippet is self-contained ‚Äî you can adapt it directly for your own projects.</p>
<section id="searching-for-products">
<h3>Searching for Products<a class="headerlink" href="#searching-for-products" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">search_products()</span></code> function from <code class="docutils literal notranslate"><span class="pre">03_search_products.py</span></code> queries
<code class="docutils literal notranslate"><span class="pre">wrds_contract_info</span></code> for products whose name matches a keyword:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">search_products</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">keyword</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Search for futures products by keyword (case-insensitive).&quot;&quot;&quot;</span>
    <span class="n">kw</span> <span class="o">=</span> <span class="n">keyword</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&#39;&quot;</span><span class="p">)</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT contrcode, contrname,</span>
<span class="s2">           COUNT(*) AS num_contracts,</span>
<span class="s2">           MIN(startdate) AS earliest_start,</span>
<span class="s2">           MAX(lasttrddate) AS latest_trade</span>
<span class="s2">    FROM tr_ds_fut.wrds_contract_info</span>
<span class="s2">    WHERE LOWER(contrname) LIKE &#39;%%</span><span class="si">{</span><span class="n">kw</span><span class="si">}</span><span class="s2">%%&#39;</span>
<span class="s2">    GROUP BY contrcode, contrname</span>
<span class="s2">    ORDER BY num_contracts DESC</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">raw_sql</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
<p>A search for <code class="docutils literal notranslate"><span class="pre">&quot;treasury&quot;</span></code> returns results like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Product</span>                                                   <span class="n">Code</span>  <span class="n">Contracts</span>  <span class="n">From</span>          <span class="n">To</span>
<span class="mi">10</span> <span class="n">YEAR</span> <span class="n">US</span> <span class="n">TREASURY</span> <span class="n">NOTE</span><span class="p">(</span><span class="n">CBT</span><span class="p">)</span>                              <span class="mi">458</span>       <span class="mi">289</span>  <span class="mi">1982</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">31</span>  <span class="mi">2026</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">19</span>
<span class="n">US</span> <span class="n">TREASURY</span> <span class="n">BOND</span><span class="p">(</span><span class="n">CBT</span><span class="p">)</span>                                      <span class="mi">268</span>       <span class="mi">343</span>  <span class="mi">1977</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">24</span>  <span class="mi">2026</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">19</span>
<span class="mi">5</span> <span class="n">YEAR</span> <span class="n">US</span> <span class="n">TREASURY</span> <span class="n">NOTE</span><span class="p">(</span><span class="n">CBT</span><span class="p">)</span>                               <span class="mi">510</span>       <span class="mi">198</span>  <span class="mi">1988</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span>  <span class="mi">2026</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">19</span>
<span class="mi">2</span> <span class="n">YEAR</span> <span class="n">US</span> <span class="n">TREASURY</span> <span class="n">NOTE</span><span class="p">(</span><span class="n">CBT</span><span class="p">)</span>                               <span class="mi">599</span>       <span class="mi">146</span>  <span class="mi">1990</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">02</span>  <span class="mi">2026</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">30</span>
<span class="o">...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">contrcode</span></code> values in this output (458, 268, 510, 599) are the keys you use
in all subsequent queries.</p>
</section>
<section id="two-step-price-retrieval">
<h3>Two-Step Price Retrieval<a class="headerlink" href="#two-step-price-retrieval" title="Link to this heading">#</a></h3>
<p>From <code class="docutils literal notranslate"><span class="pre">05_pull_prices.py</span></code> ‚Äî the complete workflow for fetching settlement prices:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Step 1: Find recent contracts for 10Y Treasury (contrcode=458)</span>
<span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">SELECT futcode, contrcode, contrname, contrdate, startdate, lasttrddate</span>
<span class="s2">FROM tr_ds_fut.wrds_contract_info</span>
<span class="s2">WHERE contrcode = 458</span>
<span class="s2">  AND lasttrddate &gt;= &#39;2024-01-01&#39;</span>
<span class="s2">ORDER BY contrdate</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">contracts</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">raw_sql</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Step 2: Pull daily prices for those contracts</span>
<span class="n">futcode_list</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">contracts</span><span class="p">[</span><span class="s2">&quot;futcode&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">SELECT futcode, date_, settlement, open_, high, low, volume</span>
<span class="s2">FROM tr_ds_fut.wrds_fut_contract</span>
<span class="s2">WHERE futcode IN (</span><span class="si">{</span><span class="n">futcode_list</span><span class="si">}</span><span class="s2">)</span>
<span class="s2">  AND date_ &gt;= &#39;2024-01-01&#39;</span>
<span class="s2">ORDER BY futcode, date_</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">prices</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">raw_sql</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
<p>Step 1 returns the contract-level metadata (which delivery months exist, when
they last traded). Step 2 uses the resulting <code class="docutils literal notranslate"><span class="pre">futcode</span></code> values to pull the actual
daily price series.</p>
</section>
<section id="term-structure-snapshot">
<h3>Term Structure Snapshot<a class="headerlink" href="#term-structure-snapshot" title="Link to this heading">#</a></h3>
<p>From <code class="docutils literal notranslate"><span class="pre">06_term_structure.py</span></code> ‚Äî a single JOIN query that builds a cross-section of
all active delivery months on a given date:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">SELECT ci.futcode, ci.contrdate, ci.lasttrddate,</span>
<span class="s2">       fc.settlement, fc.volume</span>
<span class="s2">FROM tr_ds_fut.wrds_contract_info ci</span>
<span class="s2">JOIN tr_ds_fut.wrds_fut_contract fc</span>
<span class="s2">  ON ci.futcode = fc.futcode</span>
<span class="s2">WHERE ci.contrcode = 458</span>
<span class="s2">  AND fc.date_ = &#39;2025-01-31&#39;</span>
<span class="s2">  AND fc.settlement IS NOT NULL</span>
<span class="s2">ORDER BY ci.contrdate</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">term</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">raw_sql</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
<p>This returns one row per delivery month ‚Äî the building block for analyzing term
structure shape (contango vs. backwardation for commodities, or carry dynamics
for Treasuries).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Script <code class="docutils literal notranslate"><span class="pre">07_pull_commodities_and_treasuries.py</span></code> combines all of these patterns
into a single reference script that pulls 21 commodities and 4 Treasury futures.
Use it as a starting point for building your own research datasets.</p>
</div>
</section>
</section>
<section id="key-limitations">
<h2>Key Limitations<a class="headerlink" href="#key-limitations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>WRDS updates Datastream data <strong>monthly</strong>, while LSEG Workspace offers
real-time updates.</p></li>
<li><p>For intraday data or non-U.S. Treasury futures, use LSEG Workspace (access
varies by institution).</p></li>
</ul>
<p>By applying these conventions and tools, you can efficiently locate and extract
Treasury Futures data in Datastream via WRDS.</p>
</section>
</section>

<div class="section ablog__blog_comments">
   
</div>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="bloomberg_terminal.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">The Bloomberg Terminal</p>
      </div>
    </a>
    <a class="right-next"
       href="databento.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Databento</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started-with-documentation">Getting Started with Documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-variables-in-datastream-and-in-wrds-generally">Finding Variables (in Datastream and in WRDS generally)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-wrds-variable-search">Using the WRDS Variable Search</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-datastream-code-lookup-tool">Using the Datastream Code Lookup Tool</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#search-tips">Search Tips</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-futures-example-1">Treasury Futures Example 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#treasury-futures-example-2">Treasury Futures Example 2</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#access-futures-data-via-wrds-web-query">1. Access Futures Data via WRDS Web Query</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mnemonic-structure-for-treasury-futures">2. Mnemonic Structure for Treasury Futures</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-treasury-futures-symbols">3. Key Treasury Futures Symbols</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#search-and-browse-tips">4. Search and Browse Tips</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-retrieval-example">5. Data Retrieval Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-the-futures-library-via-python">Exploring the Futures Library via Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-model-library-structure-and-key-relationships">Data Model: Library Structure and Key Relationships</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#highlights-from-the-example-scripts">Highlights from the Example Scripts</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#searching-for-products">Searching for Products</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#two-step-price-retrieval">Two-Step Price Retrieval</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#term-structure-snapshot">Term Structure Snapshot</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-limitations">Key Limitations</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jeremiah Bejarano
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2026, Jeremiah Bejarano.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>