

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Env Files and the Separations of Settings from Code &#8212; Data Science Tools for Finance</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lectures/Week3/env_files';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Homework 3" href="HW3.html" />
    <link rel="prev" title="Example: Connecting to the WRDS Platform With Python" href="../../output/_01_wrds_python_package.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Data Science Tools for Finance - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Data Science Tools for Finance - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Data Science Tools for Finance
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Course Syllabus: FINM 32900, Winter 2024</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Week1/HW0.html">Homework 0: Setting up your computing environment</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Week1/overview_w1.html">Week 1: Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week1/what_is_this_course_about.html">What is Data Science? Where does this course fit in?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week1/reproducible_analytical_pipelines.html">What are Reproducible Analytical Pipelines?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week1/case_study_reproducibility_in_finance.html">Case Study: Is There A Reproducibility Crisis In Finance?</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Week1/HW1.html">Homework 1</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../output/_01_repo_spikes.html">Rate Spikes in the Market for Repurchase Agreements</a></li>



</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Week2/overview_w2.html">Week 2: Build Systems and Task Runners</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week2/virtual_environments.html">Virtual Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week2/what_is_a_build_system.html">What is a build system or task runner?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week2/project_structure.html">Project Structure</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Week2/HW2.html">Homework 2</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week2/case_study_atlanta_fed_wage_growth_tracker.html">Case Study: Atlanta Fed Wage Growth Tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output/_01_wage_growth_during_the_recession.html">HW Guide: Wage Growth During the Recession</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="overview_w3.html">Week 3: Env Files, Secrets, Automating Queries, and the Basics of SQL</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="WRDS_intro_and_web_queries.html">Introduction to WRDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output/_01_wrds_python_package.html">Example: Connecting to the WRDS Platform With Python</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Env Files and the Separations of Settings from Code</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="HW3.html">Homework 3</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../output/_02_CRSP_market_index.html">HW Guide Part A: CRSP Market Returns Indices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output/_03_Fama_French_1993.html">HW Guide Part B: Replicate Fama-French 1993</a></li>



</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Week4/overview_w4.html">Week 4: Generating Reports, featuring Jupyter Notebooks and LaTeX</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week4/reports_with_jupyter_notebooks.html">Reports with Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week4/intro_to_LaTeX.html">Introduction to LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week4/latex_essentials.html">LaTeX Essentials</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Week5/overview_w5.html">Week 5: Unit Tests and Documentation with Sphinx</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week5/sphinx.html">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week5/unit_tests.html">Unit Tests</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Week6/overview_w6.html">Week 6: Bloomberg and Social Coding with GitHub</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Week6/bloomberg_terminal.html">The Bloomberg Terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Week6/GitHub_pull_requests.html">GitHub Pull Requests: Enhancing Collaborative Development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Week7/overview_w7.html">Week 7: Reviewing Sphinx and Unit Tests</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Misc/final_project.html">Final Project</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Misc/potential_final_projects.html">List of Potential Final Projects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Misc/appendix.html">Appendix</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/finm-32900/finm-32900-data-science" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/finm-32900/finm-32900-data-science/issues/new?title=Issue%20on%20page%20%2Flectures/Week3/env_files.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/lectures/Week3/env_files.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Env Files and the Separations of Settings from Code</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-twelve-factor-app-methodology">The Twelve-Factor App methodology</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-config-in-environment-variables">Storing Config in Environment Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-dot-env-env-file">What is a Dot Env (<code class="docutils literal notranslate"><span class="pre">.env</span></code>) File?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-examine-the-env-file-in-the-blank-project-repo">Example: Examine the Env file in the Blank Project Repo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pythons-decouple-and-dotenv-packages">Python’s <code class="docutils literal notranslate"><span class="pre">decouple</span></code> and <code class="docutils literal notranslate"><span class="pre">dotenv</span></code> packages:</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="env-files-and-the-separations-of-settings-from-code">
<h1>Env Files and the Separations of Settings from Code<a class="headerlink" href="#env-files-and-the-separations-of-settings-from-code" title="Permalink to this heading">#</a></h1>
<section id="the-twelve-factor-app-methodology">
<h2>The Twelve-Factor App methodology<a class="headerlink" href="#the-twelve-factor-app-methodology" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference external" href="https://12factor.net/">Twelve-Factor App</a> methodology is a set of best practices designed to enable applications to be built with portability and resilience when deployed to the web. The methodology draws inspiration from Martin Fowler’s books on software development practices, aiming to provide a shared vocabulary and conceptual solutions to common problems in modern application development. It <a class="reference external" href="https://en.wikipedia.org/wiki/Twelve-Factor_App_methodology">was created by developers at Heroku</a>, a platform-as-a-service company. This methodology synthesizes the experiences and observations of its creators in developing and deploying a hundreds of applications, particularly on the Heroku platform. While many of these principles apply specifically to web apps and “software-as-a-service”, many of the principles apply more universally to software development. Let’s take a brief look at the 12 principles. Then, we’ll discuss the first three in a little more detail, as they directly apply to us today.</p>
<p>The Twelve Factors:</p>
<ol class="arabic simple">
<li><p><strong>Codebase</strong>: One codebase tracked in revision control, many deploys.</p></li>
<li><p><strong>Dependencies</strong>: Explicitly declare and isolate dependencies.</p></li>
<li><p><strong>Config</strong>: Store config in the environment.</p></li>
<li><p><strong>Backing Services</strong>: Treat backing services as attached resources.</p>
<ul class="simple">
<li><p>“A backing service is any service the app consumes over the network as part of its normal operation. Examples include datastores (such as MySQL or CouchDB)…Backing services like the database are traditionally managed by the same systems administrators who deploy the app’s runtime. The code for a twelve-factor app makes no distinction between local and third party services. To the app, both are attached resources, accessed via a URL or other locator/credentials stored in the config. A deploy of the twelve-factor app should be able to swap out a local MySQL database with one managed by a third party (such as Amazon RDS) without any changes to the app’s code.”</p></li>
</ul>
</li>
<li><p><strong>Build, Release, Run</strong>: Strictly separate build and run stages.</p></li>
<li><p><strong>Processes</strong>: Execute the app as one or more stateless processes.</p></li>
<li><p><strong>Port Binding</strong>: Export services via port binding.</p></li>
<li><p><strong>Concurrency</strong>: Scale out via the process model.</p></li>
<li><p><strong>Disposability</strong>: Maximize robustness with fast startup and graceful shutdown.</p></li>
<li><p><strong>Dev/Prod Parity</strong>: Keep development, staging, and production as similar as possible.</p></li>
<li><p><strong>Logs</strong>: Treat logs as event streams.</p></li>
<li><p><strong>Admin Processes</strong>: Run admin/management tasks as one-off processes.</p></li>
</ol>
<p>Now, consider the first three principles. Over the last 2 weeks, we have learned to incorporate the first two factors into our code. Today we discuss the third: storing config in the environment.</p>
</section>
<section id="storing-config-in-environment-variables">
<h2>Storing Config in Environment Variables<a class="headerlink" href="#storing-config-in-environment-variables" title="Permalink to this heading">#</a></h2>
<p>Please refer to <a class="reference external" href="https://12factor.net/config">Section 3 of the Twelve-Factor App</a>. Here is a snippet:</p>
<blockquote>
<div><p>An app’s config is everything that is likely to vary between deploys (staging, production, developer environments, etc). This includes:</p>
<ul class="simple">
<li><p>Resource handles to the database, Memcached, and other backing services</p></li>
<li><p>Credentials to external services such as Amazon S3 or Twitter</p></li>
<li><p>Per-deploy values such as the canonical hostname for the deploy</p></li>
</ul>
<p>Apps sometimes store config as constants in the code. This is a violation of twelve-factor, which requires strict separation of config from code. Config varies substantially across deploys, code does not.
…</p>
<p>The twelve-factor app stores config in environment variables (often shortened to env vars or env). Env vars are easy to change between deploys without changing any code; unlike config files, there is little chance of them being checked into the code repo accidentally; and unlike custom config files, or other config mechanisms such as Java System Properties, they are a language- and OS-agnostic standard.</p>
</div></blockquote>
</section>
<section id="what-is-a-dot-env-env-file">
<h2>What is a Dot Env (<code class="docutils literal notranslate"><span class="pre">.env</span></code>) File?<a class="headerlink" href="#what-is-a-dot-env-env-file" title="Permalink to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">.env</span></code> file, short for “environment file”, is a simple text file containing environment variables. These variables are key-value pairs that can store configuration settings and other data that should not be hard-coded directly into source code. This practice is particularly important for security, maintainability, and the flexibility of the software.</p>
<ul class="simple">
<li><p><strong>Format</strong>: Typically, each line in a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file contains a single environment variable expressed as <code class="docutils literal notranslate"><span class="pre">KEY=value</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">OUTPUT_DIR=./data/</span></code> or <code class="docutils literal notranslate"><span class="pre">API_KEY=yourkeyhere</span></code>.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example .env file</span>
<span class="n">DATA_DIR</span><span class="o">=</span><span class="s2">&quot;D:/Dropbox/project_data/blank_project&quot;</span>
<span class="n">OUTPUT_DIR</span><span class="o">=</span><span class="s2">&quot;C:/Users/jdoe/GitRepositories/blank_project/output&quot;</span>
<span class="n">WRDS_USERNAME</span><span class="o">=</span><span class="s2">&quot;jdoe&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Secrets</strong>: These files may often  contain sensitive information, like API keys, database passwords, and service credentials, which should not be exposed publicly.</p></li>
<li><p><strong>Version Control</strong>: <code class="docutils literal notranslate"><span class="pre">.env</span></code> should NOT be checked into version control systems (like Git). The point is to keep sensitive data secure. Instead, a template (like <code class="docutils literal notranslate"><span class="pre">env.example</span></code>) with dummy values can be added to the repository to guide setup. You’ll see this in my <a class="reference external" href="https://github.com/jmbejara/blank_project"><code class="docutils literal notranslate"><span class="pre">blank_project</span></code> repo</a></p></li>
<li><p><strong>Separation of Configurations and Environment-Specific Settings</strong>: By using <code class="docutils literal notranslate"><span class="pre">.env</span></code> files, you can separate configuration from code. They allow for different settings across environments (development, testing, production), without changing the code. I often use this to specify data and output directories that may change based on the environment that I’m using at the moment to run my code. I also use this when your HW runs on the autograder. That way, your code doesn’t need to change to accommodate the different runtime environment used by the autograder.</p></li>
<li><p><strong>Loading Environment Variables</strong>: In most programming languages, there are libraries or built-in functionalities to load these variables into the application’s environment. For instance, in Python, the <code class="docutils literal notranslate"><span class="pre">python-dotenv</span></code> or the <code class="docutils literal notranslate"><span class="pre">decouple</span></code> packages can be used to load variables from a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file. Furthermore, environment variables are mostly agnostic to the platform (.e.g, Windows, Linux, or MacOS).</p></li>
<li><p><strong>Accessing Variables</strong>: Once loaded, these variables can be accessed just like any other environment variable in your code. For example, in Python, you would use <code class="docutils literal notranslate"><span class="pre">os.environ.get('KEY')</span></code> to access the value of <code class="docutils literal notranslate"><span class="pre">KEY</span></code>.</p></li>
<li><p><strong>Dynamic Configuration</strong>: This approach allows the application to be configured dynamically based on the environment it’s running in. This is crucial for applications that need to run in multiple environments with different configurations (like database URLs, logging levels, etc.).</p></li>
</ul>
<p>Recapping <strong>Best Practices</strong></p>
<ul class="simple">
<li><p><strong>Keep it Secure</strong>: Never commit <code class="docutils literal notranslate"><span class="pre">.env</span></code> files to version control. Always use <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> or equivalent in other version control systems to exclude this file.</p></li>
<li><p><strong>Documentation</strong>: Provide documentation or an example <code class="docutils literal notranslate"><span class="pre">.env</span></code> file to guide setting up the necessary environment variables.</p></li>
<li><p><strong>Validation and Defaults</strong>: Implement validation for environment variables in your application and set sensible defaults where appropriate.</p></li>
</ul>
</section>
<section id="example-examine-the-env-file-in-the-blank-project-repo">
<h2>Example: Examine the Env file in the Blank Project Repo<a class="headerlink" href="#example-examine-the-env-file-in-the-blank-project-repo" title="Permalink to this heading">#</a></h2>
<p>Use the <a class="reference external" href="https://github.com/jmbejara/blank_project"><code class="docutils literal notranslate"><span class="pre">blank_project</span></code></a> template and the <code class="docutils literal notranslate"><span class="pre">demo_environment_variables.py</span></code> file there.</p>
<p>Test out for yourself the functionality described in the module’s docstring:</p>
<p>This module demonstrate the use of environment variables to specify
project configurations</p>
<p>The precedence of environment variables is the following:</p>
<ol class="arabic simple">
<li><p>Use locally defined variables</p></li>
<li><p>Use globally defined variables</p></li>
<li><p>Use variables defined in .env</p></li>
<li><p>Use default values defined in <a class="reference external" href="http://config.py">config.py</a></p></li>
</ol>
<p>In Windows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">::</span> <span class="n">Default</span> <span class="n">variables</span><span class="p">,</span> <span class="ow">or</span> <span class="n">those</span> <span class="ow">in</span> <span class="o">.</span><span class="n">env</span> <span class="n">take</span> <span class="n">precedence</span><span class="p">:</span>
<span class="n">python</span> <span class="n">demo_environment_variables</span><span class="o">.</span><span class="n">py</span>

<span class="p">::</span> <span class="n">Now</span><span class="p">,</span> <span class="nb">set</span> <span class="n">environment</span> <span class="n">variables</span> <span class="n">globally</span><span class="o">.</span> <span class="n">These</span> <span class="n">will</span> <span class="n">take</span>
<span class="p">::</span> <span class="n">precedence</span> <span class="n">over</span> <span class="n">those</span> <span class="ow">in</span> <span class="o">.</span><span class="n">env</span>
<span class="nb">set</span> <span class="n">DATA_DIR</span><span class="o">=../</span><span class="n">somedir</span><span class="o">/</span>
<span class="nb">set</span> <span class="n">OUTPUT_DIR</span><span class="o">=../</span><span class="n">otherdir</span><span class="o">/</span>
<span class="n">python</span> <span class="o">./</span><span class="n">src</span><span class="o">/</span><span class="n">demo_environment_variables</span><span class="o">.</span><span class="n">py</span>

<span class="p">::</span> <span class="n">Unset</span> <span class="n">variables</span> <span class="k">if</span> <span class="n">so</span> <span class="n">desired</span><span class="o">.</span> 
<span class="nb">set</span> <span class="n">DATA_DIR</span><span class="o">=</span>
<span class="nb">set</span> <span class="n">OUTPUT_DIR</span><span class="o">=</span>
</pre></div>
</div>
<p>In Unix-like machines, this can easily be done on a single line so
that the environment variables don’t persist (are not set globally),</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DATA_DIR</span><span class="o">=../</span><span class="n">somedir</span><span class="o">/</span> <span class="n">OUTPUT_DIR</span><span class="o">=../</span><span class="n">otherdir</span><span class="o">/</span> <span class="n">python</span> <span class="o">./</span><span class="n">src</span><span class="o">/</span><span class="n">demo_environment_variables</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section id="pythons-decouple-and-dotenv-packages">
<h2>Python’s <code class="docutils literal notranslate"><span class="pre">decouple</span></code> and <code class="docutils literal notranslate"><span class="pre">dotenv</span></code> packages:<a class="headerlink" href="#pythons-decouple-and-dotenv-packages" title="Permalink to this heading">#</a></h2>
<p>Review the docs of <code class="docutils literal notranslate"><span class="pre">decouple</span></code> and review its usage in <code class="docutils literal notranslate"><span class="pre">config.py</span></code> in the <code class="docutils literal notranslate"><span class="pre">blank_project</span></code> repo</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/python-decouple/">https://pypi.org/project/python-decouple/</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/python-dotenv/">https://pypi.org/project/python-dotenv/</a></p></li>
</ul>
<p>The typical usage pattern for <code class="docutils literal notranslate"><span class="pre">dotenv</span></code> would look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>

<span class="n">load_dotenv</span><span class="p">()</span>  <span class="c1"># take environment variables from .env.</span>

<span class="c1"># Code of your application, which uses environment variables (e.g. from `os.environ` or</span>
<span class="c1"># `os.getenv`) as if they came from the actual environment.</span>

<span class="n">DATA_DIR</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">[</span><span class="s1">&#39;DATA_DIR&#39;</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lectures\Week3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../output/_01_wrds_python_package.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Example: Connecting to the WRDS Platform With Python</p>
      </div>
    </a>
    <a class="right-next"
       href="HW3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Homework 3</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-twelve-factor-app-methodology">The Twelve-Factor App methodology</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-config-in-environment-variables">Storing Config in Environment Variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-dot-env-env-file">What is a Dot Env (<code class="docutils literal notranslate"><span class="pre">.env</span></code>) File?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-examine-the-env-file-in-the-blank-project-repo">Example: Examine the Env file in the Blank Project Repo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pythons-decouple-and-dotenv-packages">Python’s <code class="docutils literal notranslate"><span class="pre">decouple</span></code> and <code class="docutils literal notranslate"><span class="pre">dotenv</span></code> packages:</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jeremy Bejarano
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>